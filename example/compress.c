#include "libvarintrvv.h"
#include "stdio.h"

int main(void)
{

    // uint8_t compressedData[51] = {0x0E, 0x2D, 0xFD, 0x05, 0x83, 0x35, 0x18, 0xC8, 0x03, 0xE7, 0x56, 0xA9, 0x12, 0x9F, 0x8D, 0xC3, 0x4B, 0xB2, 0x9E, 0x98, 0x0B, 0x96, 0x81, 0xA9, 0x6F, 0xEA, 0x01, 0xE3, 0xDF, 0xD2, 0x8E, 0x02, 0xFD, 0x1A, 0xD9, 0x02, 0x02, 0xEC, 0xE4, 0x02, 0x17, 0xC8, 0x03, 0xA6, 0x05, 0xEA, 0x01, 0xA6, 0x05, 0xD9, 0x02};
    
    // uint8_t compressedData[51] = {0xFE, 0xFD, 0x1D, 0x05, 0x83, 0x35, 0x18, 0xC8, 0x03, 0xE7, 0x56, 0xA9, 0x12, 0x9F, 0x8D, 0xC3, 0x4B, 0xB2, 0x9E, 0x98, 0x0B, 0x96, 0x81, 0xA9, 0x6F, 0xEA, 0x01, 0xE3, 0xDF, 0xD2, 0x8E, 0x02, 0xFD, 0x1A, 0xD9, 0x02, 0x02, 0xEC, 0xE4, 0x02, 0x17, 0xC8, 0x03, 0xA6, 0x05, 0xEA, 0x01, 0xA6, 0x05, 0xD9, 0x02};


    // uint8_t compressedData[51] = {0xFE, 0xFD, 0xFD, 0x05, 0x83, 0x35, 0x18, 0xC8, 0x03, 0xE7, 0x56, 0xA9, 0x12, 0x9F, 0x8D, 0xC3, 0x4B, 0xB2, 0x9E, 0x98, 0x0B, 0x96, 0x81, 0xA9, 0x6F, 0xEA, 0x01, 0xE3, 0xDF, 0xD2, 0x8E, 0x02, 0xFD, 0x1A, 0xD9, 0x02, 0x02, 0xEC, 0xE4, 0x02, 0x17, 0xC8, 0x03, 0xA6, 0x05, 0xEA, 0x01, 0xA6, 0x05, 0xD9, 0x02};

	uint8_t compressedData[35] = {0x81, 0x82, 0x01, 0x05, 0x03, 0x05, 0x08, 0x0E, 0x0D, 0x0D, 0x05, 0x03, 0x05, 0x08, 0x0E, 0x0D, 0x01, 0x85, 0x03, 0x05, 0xF8, 0x0E, 0x0D, 0x0D, 0xF5, 0x03, 0x05, 0x08, 0x0E, 0x0D, 0x0D, 0x05, 0x03, 0x05, 0x08};




    uint32_t decompressedData[51];

    // 14 45 765 6787 24 456 11111 2345 158385823 23465778 233455766 234 567586787 3453 345 2 45676 23 456 678 234 678 345

    uint64_t ints_read = varint_decode(compressedData, decompressedData, 51);


    for (uint64_t i = 0; i < ints_read; i++)
    {
        printf("%d ", decompressedData[i]);
    }
    printf("\n");

    return 0;
}