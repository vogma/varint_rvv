#include "libvarintrvv.h"
#include "stdio.h"

int main(void)
{

    uint8_t compressedData[51] = {0x0E, 0x2D, 0xFD, 0x05, 0x83, 0x35, 0x18, 0xC8, 0x03, 0xE7, 0x56, 0xA9, 0x12, 0x9F, 0x8D, 0xC3, 0x4B, 0xB2, 0x9E, 0x98, 0x0B, 0x96, 0x81, 0xA9, 0x6F, 0xEA, 0x01, 0xE3, 0xDF, 0xD2, 0x8E, 0x02, 0xFD, 0x1A, 0xD9, 0x02, 0x02, 0xEC, 0xE4, 0x02, 0x17, 0xC8, 0x03, 0xA6, 0x05, 0xEA, 0x01, 0xA6, 0x05, 0xD9, 0x02};
    uint32_t decompressedData[51];

    // 14 45 765 6787 24 456 11111 2345 158385823 23465778 233455766 234 567586787 3453 345 2 45676 23 456 678 234 678 345

    uint32_t mask = varint_decode(compressedData, decompressedData, 51);
    
    
    for (int i = 0; i < 6; i++)
    {
        printf("%d ", decompressedData[i]);
    }
    printf("\n");

    printf("PMOVMSKB Result: 0x%08x\n", (mask & 0x0FFF));

    return 0;
}